{"version":3,"file":"component---src-pages-blog-building-a-personal-blog-jsx-fcd74051409ee10fc15a.js","mappings":"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","sources":["webpack://personal-site/./src/pages/blog/building-a-personal-blog.jsx"],"sourcesContent":["import React, { useState } from \"react\"\n\nimport styled from \"styled-components\"\n\nimport { A } from \"../../components/text\"\nimport { ArticleWrapper, BlogCard } from \"../../components\"\n\nconst BuildingMyOwnBlog = () => {\n  return (\n    <ArticleWrapper lastUpdated={new Date(2021, 8, 7)}>\n      <h1>Building an interactive personal blog with React and Gatsby JS</h1>\n      <p>\n        I've always wanted a personal blog. A small piece of the internet that I\n        could call home. I also really wanted a blog that I created from\n        scratch. While I could have very easily turned to tools like Squarespace\n        or Medium, the idea of owning my own website that I built from scratch\n        was something that was very appealing to me. I wanted to learn how to\n        build websites, and the tools needed to build them.\n      </p>\n      <p>\n        Unlike existing blogs, I also wanted to build a blog that could be\n        interactive. I believe that blogs could have an incredible amount of\n        potential as an interactive form of reading. As a simple example, you\n        could press a button in order to change its internal state (something\n        like this button here <InteractiveButton />\n        ). A more complicated example might involve a reader interacting with\n        visualizations, code examples, graphs, or other objects. Many existing\n        blogging tools just didn't have this option (or if they did, I couldn't\n        find it), so I decided to build my own.\n      </p>\n      <p>\n        It seems fitting then that my first blog article should be about its own\n        creation. In this article, I discuss how I built this interactive\n        personal blog using the React and Gatsby JS frameworks. I'll go from the\n        design process, to its implementation, to how I hosted it on GitHub\n        Pages. I've also open sourced this blog under the MIT License, and it is\n        available at{\" \"}\n        <A href=\"https://github.com/jasonrobwebster/jasonrobwebster.github.io\">\n          GitHub\n        </A>{\" \"}\n        for anyone to use or learn from.\n      </p>\n      <section>\n        <h2>Requirements</h2>\n        <p>Off the bat, I knew I wanted two things from my blog.</p>\n        <ol>\n          <li>\n            The ability to write interactive content. Visualizations, graphs,\n            and custom calculators for example.\n          </li>\n          <li>For people to reach my pages via search engines.</li>\n        </ol>\n        <p>\n          I also wanted to use <A href=\"https://reactjs.org/\">React</A> for my\n          interactive content.\n        </p>\n        <p>\n          <A href=\"https://www.gatsbyjs.com/\">Gatsby</A> helps solve all of the\n          above requirements. It generates static pages that are then \"hydrated\"\n          with React code on the client side. Having static, pre-rendered pages\n          is important for search engine web-crawlers, since they can't normally\n          read the JS code in the otherwise empty single page app that React\n          would generate.\n        </p>\n        <p>\n          I, ofcourse, did not start with Gatsby. I decided to make my life\n          difficult by thinking I could create my own solution to my problems. I\n          wanted to use my own custom webpack, babel, and react configurations,\n          despite knowing of Gatsby's existence. I struggled with this for weeks\n          before swallowing my pride. Do not be like me. Do not make your life\n          difficult. Just use Gatsby.\n        </p>\n      </section>\n      <section>\n        <h2>Design</h2>\n        <p>\n          Design is an incredibly important and often overlooked step of\n          creating a website, particularly for beginner web devs or people (like\n          me) who like coding more than looks. If you are creating a blog from\n          scratch, you need to start with design. I use{\" \"}\n          <A href=\"http://www.figma.com\">Figma</A> to design my websites. It's a\n          fairly ubiquitous industry tool that has the distinct advantage of\n          being free (as compared to something like Adobe XD).\n        </p>\n        <p>\n          To begin, I collected references of blogs that would appeal to my\n          target audience. Since my target audience would be people like me, I\n          collected references from the blogs I like. Once I had my reference\n          material, I decided what elements I liked and disliked. I would\n          include the elements I like, and cut what I dislike.\n        </p>\n        <p>\n          I used <A href=\"https://www.redblobgames.com/\">Red Blob Games</A> and{\" \"}\n          <A href=\"https://medium.com/\">Medium</A> as my two main sources of\n          references. The former as an example of a personal blog that I really\n          like (that also had interactive content). The latter I used for\n          something with more broad appeal.\n        </p>\n        <p>\n          My initial design for this blog can be seen{\" \"}\n          <A href=\"/images/blog-design.png\">here</A>. There are a few\n          differences here and there between the initial design and the final\n          product you're now reading. I opted for a smaller footer bar without a\n          nav menu and slightly less width for the page contents, but the\n          overall wireframe remained intact.\n        </p>\n        <p>\n          During this process, I ended up asking myself way more questions about\n          text display than I thought I would initially. What size of text is\n          ideal? How should it reactively scale according to the size of the web\n          browser? What's the ideal number of characters per line (apparently,\n          around{\" \"}\n          <A href=\"https://baymard.com/blog/line-length-readability\">\n            65 characters\n          </A>\n          ). I used my browser's dev tools on my reference blogs in order to\n          help answer these question. I wouldn't have made any progress had I\n          not had those references. Long story short, use references!\n        </p>\n      </section>\n      <section>\n        <h2>Implementation</h2>\n        <p>\n          I'll cover the technical implemetation of the blog here. I'll only be\n          covering the \"interactive blog\" bit, and won't be covering like the\n          styling, css, SEO optimization, etc.\n        </p>\n        <p>\n          I didn't start a Gatsby project the{\" \"}\n          <A href=\"https://www.gatsbyjs.com/docs/quick-start/\">normal way</A> (\n          i.e. using <code>npm init gatsby</code>). Instead, I started a Gatsby\n          project from scratch, using:\n        </p>\n        <pre>\n          <code className=\"language-shell\">npm i gatsby react</code>\n        </pre>\n        <p>\n          In order for gatsby to actually build websites from my code, I needed\n          a particular folder structure. I ended up with this:\n        </p>\n        <pre>\n          <code>{folderStructure}</code>\n        </pre>\n        <p>\n          For those new to Gatsby, the <code>src/pages/</code> directory is most\n          important. React components written there will be automatically\n          compiled into their own html pages that are then hydrated on the\n          client side. In other words, I'd be able to write React code in a file\n          named <code>src/pages/page-name.jsx</code> and have it rendered at the{\" \"}\n          <code>/page-name/</code> endpoint.\n        </p>\n        <p>\n          The key idea to create my interactive blog posts was to write blogs in\n          React under the <code>src/pages/blog/</code> directory. I'd then use\n          the <code>/blog/</code> endpoint (generated by the{\" \"}\n          <code>src/pages/blog/index.jsx</code> file) to route users to the\n          posts. This isn't the most ideal solution: I'll have to write my blogs\n          in code (instead of something like Markdown or an in browser editor)\n          and will have to push my changes to GitHub everytime I write a new\n          article. But, importantly, the solution works, and you wouldn't be\n          reading this blog without this solution.\n        </p>\n        <p>\n          An example of an interactive blog post would be something that uses\n          React's <code>useState</code> hook:\n        </p>\n        <pre>\n          <code className=\"language-jsx\">{exampleBlog}</code>\n        </pre>\n        <p>\n          That's it for how I wrote the interactive blog posts. To actually\n          connect the blog posts to my blog root endpoint, I set up a\n          \"datastore\" to hold the location and metadata for each of my blogs.\n          The <code>slug</code> stored the endpoint, which as discussed above\n          was basically the name of the file that contained my page. I also\n          included a <code>published</code> tag that would hide it from the root\n          page, in case I ever wanted to do that. The \"blog datastore\" ended up\n          just being a variable that looked like:\n        </p>\n        <pre>\n          <code className=\"language-javascript\">{blogConst}</code>\n        </pre>\n        <p>\n          I'd then be able to use this to generate each link to my blog, using a\n          custom built <code>{\"<BlogCard />\"}</code> component (inspired\n          directly by my{\" \"}\n          <A href=\"https://www.redblobgames.com/\">Red Blob Games</A> reference,\n          and my love of cards in general):\n        </p>\n        <pre>\n          <code className=\"language-jsx\">{blogPage}</code>\n        </pre>\n        <pre>\n          <code className=\"language-jsx\">{blogCard}</code>\n        </pre>\n        <p>\n          When all combined (with a little css styling), I'd have a nice set of\n          cards at the <code>/blog/</code> endpoint, each linking to my\n          published interactive blog posts:\n        </p>\n        <CardDisplay>\n          <BlogCard\n            key={1}\n            url=\"#\"\n            title=\"Build­ing an in­ter­ac­tive blog with Re­act and Gats­by JS\"\n            description=\"How I built a personal blog with React and Gatsby JS.\"\n            tag=\"Tech\"\n            imageLink=\"/images/blog.png\"\n          />\n        </CardDisplay>\n        <p>\n          And... that's about it for the \"interactive blog\" part of the\n          implementation. The rest of the implementation was basically getting\n          the styles and UI/UX to match my initial design, which I won't cover\n          here.\n        </p>\n      </section>\n      <section>\n        <h2>Deploying to GitHub Pages</h2>\n        <p>\n          GitHub pages is a free way to host a personal blog. In order to set\n          this up, you need to have a repo named{\" \"}\n          <code>{\"<username>\"}.github.io</code>. In my case, that's{\" \"}\n          <code>jasonrobwebster.github.io</code>. Then, in the repo's Settings\n          &gt; Pages, you need to specify the branch that the your site will be\n          built from. Set it to the <code>gh-pages</code> branch. If you don't\n          have this branch yet, create it.\n        </p>\n        <p>\n          We'll deploy our site using the <code>gh-pages</code> package. This\n          will send a local directory to our repo's <code>gh-pages</code>{\" \"}\n          branch. Since we've set up our repo with the <code>gh-pages</code>{\" \"}\n          branch, this should work off the bat, but we'll require a small\n          configuration line to make sure we upload the <code>public/</code>{\" \"}\n          directory.\n        </p>\n        <p>\n          First, we'll install the <code>gh-pages</code> package\n        </p>\n        <pre>\n          <code className=\"language-shell\">npm i gh-pages</code>\n        </pre>\n        <p>\n          Before we deploy our blog, we need to build our pages from our source\n          code. In our <code>package.json</code>, set up the following scripts.\n          Note that we are uploading the <code>public/</code> directory to the{\" \"}\n          <code>gh-pages</code> branch using the{\" \"}\n          <code>gh-pages -d pub­lic</code> script.\n        </p>\n        <pre>\n          <code className=\"language-json\">{packageJson}</code>\n        </pre>\n        <p>Then run</p>\n        <pre>\n          <code className=\"language-shell\">npm run build</code>\n        </pre>\n        <p>\n          Our blog will be built in the <code>public/</code> directory. To\n          deploy our built website, we run\n        </p>\n        <pre>\n          <code className=\"language-shell\">npm run deploy</code>\n        </pre>\n        <p>\n          Going to <code>{\"<username>\"}.github.io</code>, you should see your\n          built website, ready for anyone to use. And because we're using\n          Gatsby, we have prerendered <code>html</code> pages for search engines\n          to crawl (we're still not optimised for SEO though, to do that we can\n          follow{\" \"}\n          <A href=\"https://www.gatsbyjs.com/docs/add-seo-component/\">\n            this guide\n          </A>\n          ).\n        </p>\n      </section>\n      <section>\n        <h2>Conclusion</h2>\n        <p>\n          We've managed to design, implement, and deploy an interactive personal\n          blog using the React and Gatsby framework. We can use it to write\n          interactive blog posts in React code, and generate an SEO optimized\n          page that we host on GitHub. For any more details, feel free to browse\n          this blog's{\" \"}\n          <A href=\"https://github.com/jasonrobwebster/jasonrobwebster.github.io\">\n            source code\n          </A>{\" \"}\n          on GitHub.\n        </p>\n      </section>\n    </ArticleWrapper>\n  )\n}\n\nexport default BuildingMyOwnBlog\n\nconst InteractiveButton = () => {\n  const [value, setValue] = useState(0)\n\n  const increaseValue = () => {\n    setValue(value + 1)\n  }\n  return <StyledButton onClick={increaseValue}>{value}</StyledButton>\n}\n\nconst CardDisplay = styled.div`\n  display: flex;\n  justify-content: center;\n\n  padding-bottom: 1.5rem;\n`\n\nconst StyledButton = styled.button`\n  display: inline-block;\n  position: relative;\n  padding: 0.1rem 0.5rem 0.2rem;\n\n  background-color: ${(props) => props.theme.primary};\n  color: ${(props) => props.theme.text.light};\n\n  border: 0px solid;\n  border-radius: 0.25rem;\n\n  box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.2);\n\n  &:hover {\n    top: -2px;\n  }\n\n  &:active {\n    top: 0px;\n  }\n`\n\nconst folderStructure = `jasonrobwebster.github.io/\n  ├── src/\n  |   ├── components/\n  |   ├── pages/\n  |   |   ├── blog/\n  |   |   |   ├── index.jsx\n  |   |   |   ├── blog-article-1.jsx\n  |   |   |   ├── blog-article-2.jsx\n  |   |   |   ├── ...\n  |   |   ├── contact.jsx\n  |   |   ├── index.jsx\n  |   |   ├── tools.jsx\n  |   ├── shared\n  |   |   ├── styles/\n  |   |   ├── devices.js\n  |   |   ├── theme.js\n  ├── .eslintrc\n  ├── .git\n  ├── .gitignore\n  ├── .prettierignore\n  ├── .pretterrc.js\n  ├── gatsby-browser.js\n  ├── gatsby-config.js\n  ├── gatsby-ssr.js\n  ├── LICENSE\n  ├── package-lock.json\n  ├── package.json\n  └── root-wrapper.js\n`\n\nconst exampleBlog = `// src/pages/example-blog.jsx\n\nimport React, { useState } from \"react\"\n\nimport { ArticleWrapper } from \"../../components\"\n\nconst exampleBlog = () => {\n  const [value, setValue] = useState(0)\n\n  const increaseValue = () => {\n    setValue(value + 1)\n  }\n\n  return (\n    <ArticleWrapper lastUpdated={new Date(2021, 8, 7)}>\n      <button onClick={increaseValue}>{\\`Value: \\${value}\\`}</button>\n    </ArticleWrapper>\n  )\n}\n\nexport default exampleBlog\n`\n\nconst blogConst = `// src/pages/blog/index.jsx\n\n// blog card datastore\nconst blogs = [\n  {\n    title: \"Example blog title\",\n    description: \"Example blog description\",\n    tag: \"Tech\",\n    slug: \"example-blog\", // for src/pages/blog/example-blog.jsx\n    image: \"images/blog.png\",\n    published: false,\n    lastUpdated: new Date(2021, 8, 3),\n  },\n]`\n\nconst blogPage = `// src/pages/blog/index.jsx\n\nimport React from \"react\"\n\nimport fp from \"lodash/fp\"\n\nimport { BlogCard, PageWrapper } from \"../../components\"\n\nconst Blog = ({ location }) => {\n  const publishedBlogs = fp.filter((blog) =>\n    isProduction ? blog.published : true\n  )(blogs)\n  const lastBlog = fp.maxBy((blog) => blog.lastUpdated)(blogs)\n\n  return (\n    <React.Fragment>\n      <PageWrapper lastUpdated={lastBlog.lastUpdated}>\n        <CardContent>\n          {fp.flow(\n            fp.sortBy((blog) => -(blog.lastUpdated || new Date())),\n            fp.map((blog) => (\n              <BlogCard\n                key={blog.slug}\n                url={\\`\\${location.pathname}/\\${blog.slug}\\`}\n                title={blog.title}\n                imageLink={blog.image}\n                description={blog.description}\n                tag={blog.tag}\n              />\n            ))\n          )(publishedBlogs)}\n        </CardContent>\n      </PageWrapper>\n    </React.Fragment>\n  )\n}\n\nexport default Blog\n`\n\nconst blogCard = `// src/components/BlogCard.jsx\n\nimport React from \"react\"\n\nimport { Link } from \"gatsby\"\n\nimport { HyphenatedText } from \"./text\"\n\nconst BlogCard = ({ url, title, imageLink, description, tag }) => {\n  return (\n    <React.Fragment>\n      <Card to={url}>\n        <Card.Content>\n          <Card.Image src={imageLink} />\n          <Card.Text>\n            <Card.Title>\n              <HyphenatedText>{title}</HyphenatedText>\n            </Card.Title>\n            <Card.Description>\n              <HyphenatedText>{description}</HyphenatedText>\n            </Card.Description>\n            <Card.Tag>{tag}</Card.Tag>\n          </Card.Text>\n        </Card.Content>\n      </Card>\n    </React.Fragment>\n  )\n}\n\nexport default BlogCard\n`\n\nconst packageJson = `// package.json\n\"scripts\": {\n  \"dev\": \"gatsby develop\",\n  \"build\": \"gatsby build\",\n  \"predeploy\": \"npm run build\",\n  \"deploy\": \"gh-pages -d public\",\n  \"serve\": \"gatsby serve\",\n  \"clean\": \"gatsby clean\"\n}\n`\n"],"names":["lastUpdated","Date","InteractiveButton","A","href","className","folderStructure","exampleBlog","blogConst","blogPage","blogCard","CardDisplay","key","url","title","description","tag","imageLink","packageJson","useState","value","setValue","StyledButton","onClick","styled","props","theme","primary","text","light"],"sourceRoot":""}